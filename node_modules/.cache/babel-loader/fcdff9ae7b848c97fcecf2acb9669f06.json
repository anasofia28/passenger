{"ast":null,"code":"/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends, __values } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, strings } from './constants';\nvar INTERACTION_EVENTS = ['click', 'keydown'];\n\nvar MDCTextFieldIconFoundation =\n/** @class */\nfunction (_super) {\n  __extends(MDCTextFieldIconFoundation, _super);\n\n  function MDCTextFieldIconFoundation(adapter) {\n    var _this = _super.call(this, __assign(__assign({}, MDCTextFieldIconFoundation.defaultAdapter), adapter)) || this;\n\n    _this.savedTabIndex = null;\n\n    _this.interactionHandler = function (evt) {\n      _this.handleInteraction(evt);\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(MDCTextFieldIconFoundation, \"strings\", {\n    get: function () {\n      return strings;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCTextFieldIconFoundation, \"cssClasses\", {\n    get: function () {\n      return cssClasses;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCTextFieldIconFoundation, \"defaultAdapter\", {\n    /**\n     * See {@link MDCTextFieldIconAdapter} for typing information on parameters and return types.\n     */\n    get: function () {\n      // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n      return {\n        getAttr: function () {\n          return null;\n        },\n        setAttr: function () {\n          return undefined;\n        },\n        removeAttr: function () {\n          return undefined;\n        },\n        setContent: function () {\n          return undefined;\n        },\n        registerInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterInteractionHandler: function () {\n          return undefined;\n        },\n        notifyIconAction: function () {\n          return undefined;\n        }\n      }; // tslint:enable:object-literal-sort-keys\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  MDCTextFieldIconFoundation.prototype.init = function () {\n    var e_1, _a;\n\n    this.savedTabIndex = this.adapter.getAttr('tabindex');\n\n    try {\n      for (var INTERACTION_EVENTS_1 = __values(INTERACTION_EVENTS), INTERACTION_EVENTS_1_1 = INTERACTION_EVENTS_1.next(); !INTERACTION_EVENTS_1_1.done; INTERACTION_EVENTS_1_1 = INTERACTION_EVENTS_1.next()) {\n        var evtType = INTERACTION_EVENTS_1_1.value;\n        this.adapter.registerInteractionHandler(evtType, this.interactionHandler);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (INTERACTION_EVENTS_1_1 && !INTERACTION_EVENTS_1_1.done && (_a = INTERACTION_EVENTS_1.return)) _a.call(INTERACTION_EVENTS_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n\n  MDCTextFieldIconFoundation.prototype.destroy = function () {\n    var e_2, _a;\n\n    try {\n      for (var INTERACTION_EVENTS_2 = __values(INTERACTION_EVENTS), INTERACTION_EVENTS_2_1 = INTERACTION_EVENTS_2.next(); !INTERACTION_EVENTS_2_1.done; INTERACTION_EVENTS_2_1 = INTERACTION_EVENTS_2.next()) {\n        var evtType = INTERACTION_EVENTS_2_1.value;\n        this.adapter.deregisterInteractionHandler(evtType, this.interactionHandler);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (INTERACTION_EVENTS_2_1 && !INTERACTION_EVENTS_2_1.done && (_a = INTERACTION_EVENTS_2.return)) _a.call(INTERACTION_EVENTS_2);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n\n  MDCTextFieldIconFoundation.prototype.setDisabled = function (disabled) {\n    if (!this.savedTabIndex) {\n      return;\n    }\n\n    if (disabled) {\n      this.adapter.setAttr('tabindex', '-1');\n      this.adapter.removeAttr('role');\n    } else {\n      this.adapter.setAttr('tabindex', this.savedTabIndex);\n      this.adapter.setAttr('role', strings.ICON_ROLE);\n    }\n  };\n\n  MDCTextFieldIconFoundation.prototype.setAriaLabel = function (label) {\n    this.adapter.setAttr('aria-label', label);\n  };\n\n  MDCTextFieldIconFoundation.prototype.setContent = function (content) {\n    this.adapter.setContent(content);\n  };\n\n  MDCTextFieldIconFoundation.prototype.handleInteraction = function (evt) {\n    var isEnterKey = evt.key === 'Enter' || evt.keyCode === 13;\n\n    if (evt.type === 'click' || isEnterKey) {\n      evt.preventDefault(); // stop click from causing host label to focus\n      // input\n\n      this.adapter.notifyIconAction();\n    }\n  };\n\n  return MDCTextFieldIconFoundation;\n}(MDCFoundation);\n\nexport { MDCTextFieldIconFoundation }; // tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\n\nexport default MDCTextFieldIconFoundation;","map":{"version":3,"sources":["foundation.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends, __values } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, strings } from './constants';\nvar INTERACTION_EVENTS = ['click', 'keydown'];\nvar MDCTextFieldIconFoundation = /** @class */ (function (_super) {\n    __extends(MDCTextFieldIconFoundation, _super);\n    function MDCTextFieldIconFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCTextFieldIconFoundation.defaultAdapter), adapter)) || this;\n        _this.savedTabIndex = null;\n        _this.interactionHandler = function (evt) {\n            _this.handleInteraction(evt);\n        };\n        return _this;\n    }\n    Object.defineProperty(MDCTextFieldIconFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCTextFieldIconFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCTextFieldIconFoundation, \"defaultAdapter\", {\n        /**\n         * See {@link MDCTextFieldIconAdapter} for typing information on parameters and return types.\n         */\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                getAttr: function () { return null; },\n                setAttr: function () { return undefined; },\n                removeAttr: function () { return undefined; },\n                setContent: function () { return undefined; },\n                registerInteractionHandler: function () { return undefined; },\n                deregisterInteractionHandler: function () { return undefined; },\n                notifyIconAction: function () { return undefined; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MDCTextFieldIconFoundation.prototype.init = function () {\n        var e_1, _a;\n        this.savedTabIndex = this.adapter.getAttr('tabindex');\n        try {\n            for (var INTERACTION_EVENTS_1 = __values(INTERACTION_EVENTS), INTERACTION_EVENTS_1_1 = INTERACTION_EVENTS_1.next(); !INTERACTION_EVENTS_1_1.done; INTERACTION_EVENTS_1_1 = INTERACTION_EVENTS_1.next()) {\n                var evtType = INTERACTION_EVENTS_1_1.value;\n                this.adapter.registerInteractionHandler(evtType, this.interactionHandler);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (INTERACTION_EVENTS_1_1 && !INTERACTION_EVENTS_1_1.done && (_a = INTERACTION_EVENTS_1.return)) _a.call(INTERACTION_EVENTS_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    MDCTextFieldIconFoundation.prototype.destroy = function () {\n        var e_2, _a;\n        try {\n            for (var INTERACTION_EVENTS_2 = __values(INTERACTION_EVENTS), INTERACTION_EVENTS_2_1 = INTERACTION_EVENTS_2.next(); !INTERACTION_EVENTS_2_1.done; INTERACTION_EVENTS_2_1 = INTERACTION_EVENTS_2.next()) {\n                var evtType = INTERACTION_EVENTS_2_1.value;\n                this.adapter.deregisterInteractionHandler(evtType, this.interactionHandler);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (INTERACTION_EVENTS_2_1 && !INTERACTION_EVENTS_2_1.done && (_a = INTERACTION_EVENTS_2.return)) _a.call(INTERACTION_EVENTS_2);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    MDCTextFieldIconFoundation.prototype.setDisabled = function (disabled) {\n        if (!this.savedTabIndex) {\n            return;\n        }\n        if (disabled) {\n            this.adapter.setAttr('tabindex', '-1');\n            this.adapter.removeAttr('role');\n        }\n        else {\n            this.adapter.setAttr('tabindex', this.savedTabIndex);\n            this.adapter.setAttr('role', strings.ICON_ROLE);\n        }\n    };\n    MDCTextFieldIconFoundation.prototype.setAriaLabel = function (label) {\n        this.adapter.setAttr('aria-label', label);\n    };\n    MDCTextFieldIconFoundation.prototype.setContent = function (content) {\n        this.adapter.setContent(content);\n    };\n    MDCTextFieldIconFoundation.prototype.handleInteraction = function (evt) {\n        var isEnterKey = evt.key === 'Enter' || evt.keyCode === 13;\n        if (evt.type === 'click' || isEnterKey) {\n            evt.preventDefault(); // stop click from causing host label to focus\n            // input\n            this.adapter.notifyIconAction();\n        }\n    };\n    return MDCTextFieldIconFoundation;\n}(MDCFoundation));\nexport { MDCTextFieldIconFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCTextFieldIconFoundation;\n//# sourceMappingURL=foundation.js.map"]},"metadata":{},"sourceType":"module"}